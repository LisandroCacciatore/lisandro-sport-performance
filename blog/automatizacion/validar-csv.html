<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qué validar antes de confiar en un CSV deportivo | Lisandro Cacciatore</title>
    <meta name="description" content="El 80% de los errores en reportes deportivos no son de visualización, son de ingesta. Tres validaciones automáticas que detectan ceros falsos y GPS fantasmas antes de que lleguen al dashboard.">
    <link rel="canonical" href="https://lisandrocacciatore.com/blog/automatizacion/validar-csv.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@400;500;600;700&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="../../theme.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        h1, h2, h3, .font-heading { font-family: 'Montserrat', sans-serif; }
        pre { background-color: #0F172A !important; border-radius: 0.5rem; padding: 1.25rem; overflow-x: auto; }
        code { font-family: 'Fira Code', monospace; font-size: 0.85rem; color: #93c5fd; }
    </style>
</head>
<body class="bg-white text-body antialiased">

    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200">
        <div class="max-w-4xl mx-auto px-6 h-16 flex justify-between items-center">
            <a href="../../index.html" class="font-heading font-bold text-dark">Lisandro Cacciatore <span class="text-primary">.</span></a>
            <a href="../../blog.html" class="text-sm font-medium text-slate-500 hover:text-primary transition-colors">← Blog</a>
        </div>
    </nav>

    <main class="py-16 px-6">
        <article class="max-w-3xl mx-auto">

            <header class="mb-12 text-center">
                <div class="flex justify-center mb-6">
                    <nav class="flex text-xs text-slate-400 font-medium gap-2 items-center">
                        <a href="../../blog.html" class="hover:text-primary">Blog</a>
                        <span>/</span>
                        <span class="text-slate-600">Automatización</span>
                    </nav>
                </div>
                <span class="inline-block py-1 px-3 rounded text-xs font-mono font-bold uppercase tracking-wider bg-green-50 text-green-700 mb-6">Automatización · QA</span>
                <h1 class="text-3xl md:text-5xl font-extrabold text-dark mb-6 leading-tight">
                    Qué validar antes de confiar en un CSV deportivo
                </h1>
                <p class="text-xl text-slate-600 leading-relaxed">
                    El 80% de los errores en reportes deportivos no están en el dashboard. Están tres pasos antes, en el momento en que los datos entran al sistema sin que nadie los revise.
                </p>
                <div class="mt-6 text-xs font-mono text-slate-400">Lisandro Cacciatore · Automatización</div>
            </header>

            <div class="prose prose-lg prose-slate max-w-none prose-headings:font-bold prose-headings:text-dark prose-a:text-primary prose-blockquote:border-primary prose-blockquote:bg-slate-50 prose-blockquote:not-italic">

                <h2>El problema de los datos que entran sin control</h2>
                <p>
                    Es martes a las 8AM. Descargás el CSV de Catapult. Tiene 25 filas, una por jugador. Lo abrís, copiás las columnas de distancia y actualizás el dashboard. Todo parece correcto.
                </p>
                <p>
                    El problema: el GPS del arquero suplente quedó prendido en el vestuario durante la sesión. Duración registrada: 90 minutos. Distancia: 47 metros. Velocidad máxima: 2.1 km/h. El sistema lo procesó igual que al resto.
                </p>
                <p>
                    Si ese dato entra al promedio del equipo, bajás artificialmente la intensidad de la sesión. El PF mira el reporte y concluye "sesión light". Pero fue intensa para los 24 que sí entrenaron. La decisión del día siguiente está basada en información incorrecta.
                </p>

                <blockquote>
                    "El error no está en el dashboard. Está en la ausencia de un proceso de validación antes de que los datos lleguen al dashboard."
                </blockquote>

                <h2>Tres validaciones que deben ser automáticas</h2>
                <p>
                    Antes de que cualquier archivo toque el sistema de reporte, tiene que pasar por un proceso de control. Estos son los tres checks que implemento en todos los pipelines que construyo:
                </p>

                <h3>1. Duración vs. Distancia — Detectar GPS fantasmas</h3>
                <p>
                    Si un dispositivo registra más de 20 minutos de sesión con menos de 100 metros de distancia total, no es un dato bajo. Es un GPS que no estaba en el cuerpo de nadie. La regla es simple:
                </p>

            </div>

            <div class="my-8 rounded-lg overflow-hidden border border-slate-800">
                <div class="bg-slate-800 px-4 py-2">
                    <span class="text-xs font-mono text-slate-400">validacion_1_fantasmas.py</span>
                </div>
                <pre><code>def detectar_fantasmas(df):
    fantasmas = df[(df['Duration_Min'] > 20) & (df['Distance_m'] < 100)]
    if not fantasmas.empty:
        raise ValueError(
            f"⚠ {len(fantasmas)} GPS fantasma(s) detectado(s). "
            f"Revisá: {fantasmas['Player_Name'].tolist()}"
        )
    return df
</code></pre>
            </div>

            <div class="prose prose-lg prose-slate max-w-none prose-headings:font-bold prose-headings:text-dark prose-a:text-primary">

                <h3>2. Normalización de nombres — Identificadores únicos</h3>
                <p>
                    "Messi, L" y "Lionel Messi" son el mismo jugador. Pero si exportás desde Catapult un día y desde StatSports al siguiente, el sistema los trata como dos personas distintas. La base de datos empieza a tener filas dobles y promedios calculados sobre datos incompletos.
                </p>
                <p>
                    La solución es asignar un ID único a cada jugador antes de la carga y mapear todos los nombres variantes a ese ID. Sin ese paso, la unificación de fuentes siempre produce ruido.
                </p>

            </div>

            <div class="my-8 rounded-lg overflow-hidden border border-slate-800">
                <div class="bg-slate-800 px-4 py-2">
                    <span class="text-xs font-mono text-slate-400">validacion_2_duplicados.py</span>
                </div>
                <pre><code># Comparar contra el plantel oficial esperado
nombres_detectados = df['Player_Name'].nunique()
plantel_esperado = 26

if nombres_detectados > plantel_esperado * 1.1:
    print(f"⚠ Posibles duplicados: {nombres_detectados} IDs vs {plantel_esperado} esperados")
    print("Revisá nombres:", sorted(df['Player_Name'].unique()))
</code></pre>
            </div>

            <div class="prose prose-lg prose-slate max-w-none prose-headings:font-bold prose-headings:text-dark prose-a:text-primary">

                <h3>3. Rangos físicos posibles — Outliers de señal</h3>
                <p>
                    Un registro de velocidad máxima de 42 km/h no es un dato excepcional. Es un error de señal GPS. Usain Bolt alcanzó 37.58 km/h en condiciones controladas. Ningún jugador de campo lo supera en entrenamiento.
                </p>
                <p>
                    Lo mismo aplica a frecuencias cardíacas por encima de 220 bpm, distancias totales imposibles para el tiempo registrado, o aceleraciones con signo incorrecto. Si el sistema acepta esos valores sin alertar, produce decisiones médicas sobre datos físicamente incoherentes.
                </p>

            </div>

            <div class="my-8 rounded-lg overflow-hidden border border-slate-800">
                <div class="bg-slate-800 px-4 py-2">
                    <span class="text-xs font-mono text-slate-400">validacion_3_rangos.py</span>
                </div>
                <pre><code>LIMITES = {
    'Max_Speed_kmh': 37,
    'Total_Distance_m': 15000,
    'Max_HR_bpm': 220
}

for col, limite in LIMITES.items():
    outliers = df[df[col] > limite]
    if not outliers.empty:
        print(f"⚠ Outlier en {col}: {outliers[['Player_Name', col]].to_string()}")
</code></pre>
            </div>

            <div class="prose prose-lg prose-slate max-w-none prose-headings:font-bold prose-headings:text-dark prose-a:text-primary">

                <h2>Automatizar no es delegar la responsabilidad</h2>
                <p>
                    Un sistema de validación automática no significa "me olvido". Significa que el sistema avisa cuando algo está mal, en lugar de que alguien tenga que buscarlo manualmente. El proceso estándar que implemento en los clubes funciona así: el script se ejecuta automáticamente cuando se sube el archivo. Si pasa todas las validaciones, los datos van al sistema de reporte. Si alguna falla, genera una alerta con el detalle específico antes de que cualquier número llegue al dashboard.
                </p>
                <p>
                    Una nota importante: los archivos de partido oficial a veces tienen interrupciones de señal reales por cobertura satelital deficiente en estadios techados. Ahí los umbrales deben ajustarse y el check requiere revisión humana. Por eso el sistema tiene dos modos de operación: entrenamiento (validación estricta y automática) y partido (validación más permisiva con confirmación manual).
                </p>

            </div>

            <div class="mt-16 bg-slate-50 p-8 rounded-xl text-center border border-slate-200">
                <h3 class="text-xl font-bold text-dark mb-2">¿Tus datos pasan algún control antes de llegar al reporte?</h3>
                <p class="text-slate-500 mb-6 text-sm leading-relaxed max-w-lg mx-auto">
                    La auditoría inicial mapea dónde entran los errores y qué tan lejos llegan antes de que alguien los note. Sin compromiso de contratación.
                </p>
                <a href="../../contacto.html" class="inline-block bg-primary text-white font-bold py-3 px-8 rounded hover:bg-blue-700 transition-colors">
                    Solicitar Auditoría →
                </a>
            </div>

        </article>
    </main>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TechArticle",
      "headline": "Qué validar antes de confiar en un CSV deportivo",
      "description": "Tres validaciones automáticas para detectar errores en datos GPS antes de que lleguen al reporte del cuerpo técnico.",
      "author": { "@type": "Person", "name": "Lisandro Cacciatore" }
    }
    </script>

    <footer class="bg-dark text-white py-10 text-center mt-16 border-t border-slate-800">
        <div class="max-w-4xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-center gap-8 text-sm text-slate-500 mb-4">
                <a href="../../index.html" class="hover:text-white transition-colors">Inicio</a>
                <a href="../../blog.html" class="hover:text-white transition-colors">Blog</a>
                <a href="../../contacto.html" class="hover:text-white transition-colors">Contacto</a>
            </div>
            <p class="text-sm text-slate-600">© 2026 Lisandro Cacciatore · Rosario, Argentina</p>
        </div>
    </footer>
</body>
</html>